const inmap_maps=[],inmap_create_map=function(e=null,t=null){if(!e||!t||!jQuery)return!1;var n="inmap-"+e,o=jQuery("#"+n),r=L.map(n);o.data("map_l",r),inmap_maps[e]=r;var a=o.parents(".inmap-wrap"),p=jQuery(".inmap-info",a),s={},c={},m={},l=function(e=null,t="active"){for(i in console.log(e,t),s)i===e?(c[i].addClass("inmap-"+t),"active"==t&&r.setView(s[i].getLatLng())):c[i].removeClass("inmap-"+t);for(j in m)j===e?(m[j].addClass("inmap-"+t),"active"==t&&m[j].get(0).scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})):m[j].removeClass("inmap-"+t)},u=(L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(r),L.geoJSON(t,{style:function(e){if("object"==typeof e.properties.style)return e.properties.style},pointToLayer:function(e,t){if(void 0===e.properties.id)return!1;var i=e.properties.id.toString();if("object"==typeof e.properties.style)var n=L.divIcon(e.properties.icon),o=L.marker(t,{icon:n});else o=L.marker(t);return s[i]=o,m[i]=jQuery("<div />").addClass("inmap-info-item").html(e.properties.description).on("mouseenter",(function(){l(i,"hover")})).on("click",(function(){l(i)})),p.append(m[i]),o},onEachFeature:function(e,t){if(void 0===e.properties.id)return!1;var i=e.properties.id.toString();t.on("add",(function(e){c[i]=jQuery(e.target.getElement()).on("mouseenter",(function(){l(i,"hover")})).on("click",(function(){l(i)}))}))}}));u.addTo(r),r.fitBounds(u.getBounds())};