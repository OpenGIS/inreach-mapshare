const inmap_maps=[],inmap_create_map=function(e=null,r=null){if(!e||!r||!jQuery)return!1;var t="inmap-"+e,n=jQuery("#"+t),a=L.map(t);n.data("map_l",a),inmap_maps[e]=a;var i=n.parents(".inmap-wrap"),p=jQuery(".inmap-info",i),o=(L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(a),L.geoJSON(r,{style:function(e){if("object"==typeof e.properties.style)return e.properties.style},pointToLayer:function(e,r){if("object"==typeof e.properties.style){var t=L.divIcon(e.properties.icon);return L.marker(r,{icon:t})}return L.marker(r)},onEachFeature:function(e,r){e.properties.description}}));o.addTo(a),o.on("click",(function(e){var r=e.layer.feature,t=jQuery(e.originalEvent.target);if("string"==typeof r.properties.description){if(!t.hasClass("inmap-marker-icon")&&!(t=t.parents("inmap-marker-icon")).length)return!1;jQuery(".inmap-marker-icon").removeClass("inmap-active"),t.addClass("inmap-active"),p.html(r.properties.description)}})),a.fitBounds(o.getBounds()),a.setMaxBounds(o.getBounds())};