const inmap_maps=[],inmap_create_map=function(t=null,e=null){if(!t||!e||!jQuery)return!1;var i="inmap-"+t,n=jQuery("#"+i),o=L.map(i);n.data("map_l",o),inmap_maps[t]=o;var r=n.parents(".inmap-wrap"),a=jQuery(".inmap-info",r),p={},s={},c={},d=function(t=null,e="active"){for(this_id in p)this_id===t?(s[this_id].addClass("inmap-"+e),c[this_id].addClass("inmap-"+e),c[this_id].get(0).scrollIntoView({behavior:"smooth",block:"center"}),"zoom"==e&&o.setView(p[this_id].getLatLng(),14),"active"==e&&o.setView(p[this_id].getLatLng())):(s[this_id].removeClass("inmap-"+e),c[this_id].removeClass("inmap-"+e))},u=(L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(o),L.geoJSON(e,{style:function(t){if("object"==typeof t.properties.style)return t.properties.style},pointToLayer:function(t,e){if(void 0===t.properties.id)return!1;var i=t.properties.id.toString();return"object"==typeof t.properties.icon?p[i]=L.marker(e,{icon:L.divIcon(t.properties.icon)}):p[i]=L.marker(e),c[i]=jQuery("<div />").addClass("inmap-info-item").html(t.properties.description).hover((function(){d(i,"hover")}),(function(){d(null,"hover")})).on("click",(function(){d(i,"active")})).on("dblclick",(function(){d(i,"zoom")})),a.append(c[i]),p[i]},onEachFeature:function(t,e){if(void 0===t.properties.id)return!1;var i=t.properties.id.toString();e.on("add",(function(t){s[i]=jQuery(t.target.getElement()).data("marker_l",t.target).hover((function(){d(i,"hover")}),(function(){d(null,"hover")})).on("click",(function(){d(i)}))}))}}));u.addTo(o),o.fitBounds(u.getBounds())};