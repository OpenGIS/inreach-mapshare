const inmap_maps=[],inmap_create_map=function(e=null,t=null){if(!e||!t||!jQuery)return!1;var n="inmap-"+e,o=jQuery("#"+n),r=L.map(n);o.data("map_l",r),inmap_maps[e]=r;var a=o.parents(".inmap-wrap"),p=jQuery(".inmap-info",a),s={},c={},l={},m=function(e=null,t="active"){for(i in console.log(e,t),s)void 0===c[i]&&(c[i]=jQuery(s[i]._icon).data("id",i).hover((function(){m(jQuery(this).data("id"),"hover")}),(function(){m()}))),i===e?(c[i].addClass("inmap-"+t),"active"==t&&r.setView(s[i].getLatLng())):c[i].removeClass("inmap-"+t);for(j in l)j===e?(l[j].addClass("inmap-"+t),"active"==t&&l[j].get(0).scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})):l[j].removeClass("inmap-"+t)};m();L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(r);var u=L.geoJSON(t,{style:function(e){if("object"==typeof e.properties.style)return e.properties.style},pointToLayer:function(e,i){if(void 0===e.properties.id)return!1;var t=e.properties.id.toString();if("object"==typeof e.properties.style)var n=L.divIcon(e.properties.icon),o=L.marker(i,{icon:n});else o=L.marker(i);return o.on("click",(function(){m(t)})),s[t]=o,l[t]=jQuery("<div />").addClass("inmap-info-item").html(e.properties.description).on("mouseenter",(function(){m(t,"hover")})).on("click",(function(){m(t)})),p.append(l[t]),o},onEachFeature:function(e,i){}});u.addTo(r),r.fitBounds(u.getBounds())};