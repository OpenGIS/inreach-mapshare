const inmap_maps=[],inmap_create_map=function(e=null,t=null){if(!e||!t||!jQuery)return!1;var i="inmap-"+e,n=jQuery("#"+i),r=L.map(i);n.data("map_l",r),inmap_maps[e]=r;var o=n.parents(".inmap-wrap"),a=jQuery(".inmap-info",o),p={},s={},d={},c=function(e=null,t="active"){for(this_id in p)this_id===e?(s[this_id].addClass("inmap-"+t),d[this_id].addClass("inmap-"+t),d[this_id].get(0).scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),"active"==t&&r.setView(p[this_id].getLatLng())):(s[this_id].removeClass("inmap-"+t),d[this_id].removeClass("inmap-"+t))},u=(L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(r),L.geoJSON(t,{style:function(e){if("object"==typeof e.properties.style)return e.properties.style},pointToLayer:function(e,t){if(void 0===e.properties.id)return!1;var i=e.properties.id.toString();return"object"==typeof e.properties.icon?p[i]=L.marker(t,{icon:L.divIcon(e.properties.icon)}):p[i]=L.marker(t),d[i]=jQuery("<div />").addClass("inmap-info-item").html(e.properties.description).hover((function(){c(i,"hover")}),(function(){c(null,"hover")})).on("click",(function(){c(i)})),a.append(d[i]),p[i]},onEachFeature:function(e,t){if(void 0===e.properties.id)return!1;var i=e.properties.id.toString();t.on("add",(function(e){s[i]=jQuery(e.target.getElement()).data("marker_l",e.target).hover((function(){c(i,"hover")}),(function(){c(null,"hover")})).on("click",(function(){c(i)}))}))}}));u.addTo(r),r.fitBounds(u.getBounds())};